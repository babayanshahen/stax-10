function sasoShopifyformatMoney(o,e){function t(o,e){return void 0===o?e:o}function s(o,e,s,a){if(e=t(e,2),s=t(s,","),a=t(a,"."),isNaN(o)||null==o)return 0;var i=(o=(o/100).toFixed(e)).split(".");return i[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+s)+(i[1]?a+i[1]:"")}if(void 0===o||null==o)return"";if("string"==typeof o&&0==o.length)return"";"number"==typeof o&&window.saso_config.tax_percent>0&&(o*=1+window.saso_config.tax_percent/100);var a="",i=/\{\{\s*(\w+)\s*\}\}/,n=e||this.money_format;switch("string"==typeof o&&(o=o.replace(".","")),n.match(i)[1]){case"amount":a=s(o,2);break;case"amount_no_decimals":a=s(o,0);break;case"amount_with_comma_separator":a=s(o,2,".",",");break;case"amount_no_decimals_with_comma_separator":a=s(o,0,".",",")}return n.replace(i,a)}function sasoHash(o){var e,t,s=0;if(0===o.length)return s;for(e=0,t=o.length;e<t;e++)s=(s<<5)-s+o.charCodeAt(e),s|=0;return s.toString()}function sasoCleanBuyxHandleJson(o){for(var e=[],t=-1,s=0,a=o.options.length;s<a;s++)if("BuyXDiscount"==o.options[s].name){t=s+1;break}if(-1==t)return o;o.options.length>1?o.options.splice(t-1,1):o.options[0].name="Title",t="option"+t,o.available=!1;for(var i=0,n=o.variants.length;i<n;i++)"Default"==o.variants[i][t]&&(o.variants[i][t]="",e.push(o.variants[i]),o.available=o.available||o.variants[i].available);return o.variants=e,o.price=o.variants[0].price,o.price_min=o.price,o.price_varies=!1,o}function sasoCurrency(){"object"==typeof Currency&&"object"==typeof Currency.moneyFormats&&"function"==typeof mlvedaload&&mlvedaload()}function sasoDoActions(o){"function"==typeof SASOComplete&&(o=SASOComplete(o)),window.saso_config.notifications=o.settings_notifications,"object"!=typeof window.saso_config.notifications&&(window.saso_config.notifications=[]),"string"!=typeof window.saso_config.notifications.position&&(window.saso_config.notifications.position="top"),"string"!=typeof window.saso_config.notifications.background_color&&(window.saso_config.notifications.background_color="#73170f"),"string"!=typeof window.saso_config.notifications.text_color&&(window.saso_config.notifications.text_color="#ffffff"),window.saso_config.tax_percent=o.tax_percent,window.saso_config.offers_method=o.offers_method,window.saso_config.exclude_order_discount_details=!1,"boolean"==typeof o.exclude_order_discount_details&&(window.saso_config.exclude_order_discount_details=o.exclude_order_discount_details),"object"!=typeof o.actions&&(o.actions=[]);var e=[];(e=o.actions.filter(function(o){return"add-cart-items"==o.type})).length&&sasoAddCartItems(e[0].items),(e=o.actions.filter(function(o){return"volume-discount-tiers"==o.type})).length&&sasoShowVolumeDiscountTiers(e[0]);var t=[],s=window.sasoDocCookies.getItem("saso_shown_upsells");if(s&&"string"==typeof s&&s.split(",").map(function(o){t.push(parseInt(o))}),(e=o.actions.filter(function(o){return"Upsell"==o.type&&-1==t.indexOf(o.id)})).length){var a=e.filter(function(o){return"object"==typeof o.price_discount&&o.price_discount});a.length&&(e=a),sasoPrepareCrossSell(e[Math.floor(Math.random()*e.length)])}(e=o.actions.filter(function(o){return"Bundle"==o.type})).length&&sasoPrepareBundle(e[Math.floor(Math.random()*e.length)]),(e=o.actions.filter(function(o){return"notification"==o.type})).length&&sasoShowNotifications(e),"object"==typeof o.discounts&&"object"==typeof o.discounts.cart&&"object"==typeof o.discounts.cart.items&&sasoShowCartDiscounts(o.discounts)}function sasoHideNotification(o){jQuery(".saso-notification").slideUp("fast");var e=[],t=window.sasoDocCookies.getItem("saso_notifications_closed");t&&"string"==typeof t&&(e=t.split(",")),-1==e.indexOf(o)&&e.push(o),window.sasoDocCookies.setItem("saso_notifications_closed",e.join(","),window.saso_config.hide_closed_notifications_for,"/")}function sasoShowNotifications(o){if("top"==window.saso_config.notifications.position){var e='<div id="saso-notifications" style="padding-top: 0px; "></div>',t=[".collection_banner"];t.map(function(o){0==jQuery("#saso-notifications").length&&1==jQuery(o+":not(.saso-ignore)").length&&jQuery(o).after(e)}),jQuery("#shopify-section-cart-template .section").length&&jQuery("#shopify-section-cart-template .section").first().after(e);(t=["main.wrapper.main-content","main.main-content"]).map(function(o){0==jQuery("#saso-notifications").length&&1==jQuery(o+":not(.saso-ignore)").length&&jQuery(o).before(e)});(t=["div.content","section.main-content"]).map(function(o){0==jQuery("#saso-notifications").length&&1==jQuery(o+":not(.saso-ignore)").length&&jQuery(o).prepend(e)});(t=["main"]).map(function(o){0==jQuery("#saso-notifications").length&&1==jQuery(o+":not(.saso-ignore)").length&&jQuery(o).before(e)})}var s=[];o.map(function(o){-1==s.indexOf(o.message)&&s.push(o.message)});var a=s.join("<br>"),i=sasoHash(a),n=[],r=window.sasoDocCookies.getItem("saso_notifications_closed");if(r&&"string"==typeof r&&(n=r.split(",")),!(n.indexOf(i)>-1)){var c="background-color: "+window.saso_config.notifications.background_color+"; color: "+window.saso_config.notifications.text_color+";",d=c+"opacity: "+window.saso_config.notifications.opacity+"; ";jQuery("#saso-notifications").length||(d+="position: fixed; "+window.saso_config.notifications.position+": 0; ");var u='<div class="saso-notification" style="'+d+'"><div class="saso-notification-x"><a href="#" style="" onclick="sasoHideNotification(\''+i+"'); return false;\">X</a></div>";u+='<p style="'+c+'">'+a+"</p></div>",u+="<style> .saso-notification a { "+c+" }",jQuery("#saso-notifications").length?jQuery("#saso-notifications").html(u):jQuery(document.body).append(u),jQuery(".saso-notification").slideDown("slow")}}function sasoAddCartItems(o,e){if(o.length){var t=o.shift();jQuery.ajax({type:"POST",dataType:"json",url:"/cart/add.js",data:t,success:function(t){sasoAddCartItems(o,e)},error:function(o){"object"==typeof o&&"object"==typeof o.responseJSON&&"string"==typeof o.responseJSON.description&&alert(o.responseJSON.description),"string"==typeof o&&alert(o)}})}else{if("function"==typeof e)return e();setTimeout(function(){window.location.reload()},200)}}function sasoPrepareCrossSell(o){if("string"!=typeof window.saso_config.show_upsell_only_in||!window.saso_config.show_upsell_only_in.length||-1!=window.saso_config.show_upsell_only_in.indexOf(window.saso.page_type))if("number"==typeof window.saso_config.show_upsell_only_width_larger&&Math.max(document.documentElement.clientWidth,window.innerWidth||0)<window.saso_config.show_upsell_only_width_larger)sasoShowNotifications([{type:"notification",message:o.message}]);else{var e=[],t=[];o.products.map(function(s){"product"==window.saso.page_type&&s.id==window.saso.product.id||e.push(jQuery.getJSON("/products/"+s.handle+".json",function(e){var s=e.product;s=sasoCleanBuyxHandleJson(s);for(var a=0;a<s.variants.length;a++){if("string"==typeof s.variants[a].compare_at_price&&(s.variants[a].compare_at_price=100*parseFloat(s.variants[a].compare_at_price)),"string"==typeof s.variants[a].price&&(s.variants[a].price=100*parseFloat(s.variants[a].price)),"object"==typeof o.price_discount&&o.price_discount&&"number"==typeof o.price_discount.amount)switch(s.variants[a].compare_at_price=s.variants[a].price,o.price_discount.type){case"flat":s.variants[a].price=100*o.price_discount.amount;break;case"subtract":s.variants[a].price-=100*o.price_discount.amount,s.variants[a].price<0&&(s.variants[a].price=0);break;case"percent":s.variants[a].price=s.variants[a].price*(100-o.price_discount.amount)/100}s.variants[a].compare_at_price_n=s.variants[a].compare_at_price,s.variants[a].price_n=s.variants[a].price,s.variants[a].compare_at_price&&s.variants[a].compare_at_price>s.variants[a].price?s.variants[a].compare_at_price=sasoShopifyformatMoney(s.variants[a].compare_at_price,window.saso.money_format):s.variants[a].compare_at_price="",s.variants[a].price=sasoShopifyformatMoney(s.variants[a].price,window.saso.money_format)}if(s.variants_style="",s.variants_select="",1==s.variants.length)s.variants_style="visibility: hidden;",s.style_options="visibility: hidden;";else{var i="";s.variants.map(function(o){if(!("string"==typeof o.inventory_management&&"shopify"==o.inventory_management&&"string"==typeof o.inventory_policy&&"deny"==o.inventory_policy&&"number"==typeof o.inventory_quantity&&o.inventory_quantity<=0)){var e="";if("number"==typeof o.image_id&&null!=o.image_id){var t=s.images.filter(function(e){return e.id==o.image_id});t.length&&(e=t[0].src)}else"object"==typeof s.image&&s.image&&"string"==typeof s.image.src&&(e=s.image.src);var a=e.lastIndexOf(".");if(a>=0){e=e.substring(0,a)+"_medium."+e.substring(a+1)}i+="<option value='"+o.id+"' data-img='"+e+"' data-price='"+o.price_n+"' data-compare-at-price='"+o.compare_at_price_n+"'>",i+=sasoEscapeHtml(o.title)+"</option>"}}),s.variants_select="<select class='saso-variants'>","string"==typeof window.saso_config.upsell_variant_choose_option&&window.saso_config.upsell_variant_choose_option.length&&(s.variants_select+="<option value='0'>"+sasoEscapeHtml(window.saso_config.upsell_variant_choose_option)+"</option>"),s.variants_select+=i+"</select>"}if("object"==typeof s.image&&s.image&&"string"==typeof s.image.src){var n=s.image.src.lastIndexOf(".");if(n>=0){var r=s.image.src.substring(0,n)+"_medium."+s.image.src.substring(n+1);s.image.src=r}}s.title=sasoTrimLength(s.title,window.saso_config.product_title_max_length),t.push(s)}).fail(function(){}))}),0!=e.length&&jQuery.when.apply(jQuery,e).done(function(){if(0!=t.length)if(window.saso.action_crosssell_popup_action=o,window.saso.ignore_previous_free_gifts=!0,"string"==typeof o.from_offer_type&&"Free Gift"==o.from_offer_type&&(window.saso.ignore_previous_free_gifts=!1),1!=t.length||1!=t[0].variants.length||0!=t[0].variants[0].price_n){for(var e=!0,s=0;s<t.length;s++)t[s].variants.length>1&&(e=!1);if(e)for(s=0;s<t.length;s++)t[s].variants_style="height: 0px;";var a=Handlebars.compile(jQuery("#saso-cross-sell-popup").html());window.saso.action_crosssell_popup_html=a({notifications_message:o.message,products:t,click_here:o.click_here}),"cart"==window.saso.page_type&&sasoShowCrossSell(o)}else sasoRemovePreviousFreeGifts(function(){sasoAddCartItems([{id:t[0].variants[0].id,quantity:1}]),sasoShowCrossSellClosed()})})}}function sasoShowCrossSell(o){"string"==typeof window.saso.action_crosssell_popup_html&&setTimeout(function(){if(window.sasoc.$cart_offers=jQuery(".saso-cart-offers"),window.sasoc.$cart_offers.length)return window.sasoc.$cart_offers.each(function(o){jQuery(this).html(window.saso.action_crosssell_popup_html)}),sasoCurrency(),void sasoShowCrossSellClosed();window.saso_config.crosssell_never_show_popup||(window.sasoc.magnificPopup.open({closeOnContentClick:!1,closeOnBgClick:!1,items:{src:jQuery.parseHTML(window.saso.action_crosssell_popup_html),type:"inline"},callbacks:{afterClose:function(){sasoShowCrossSellClosed(),"cart"==window.saso.page_type&&"boolean"==typeof window.saso.upsell_added&&window.saso.upsell_added&&location.reload()}}}),sasoCurrency(),setTimeout(function(){jQuery(".saso-products-container table").length&&jQuery(".mfp-content").css("max-width",jQuery(".saso-products-container table").width()+100)},100),setTimeout(function(){sasoShowCrossSellClosed()},600))},1500)}function sasoShowCrossSellClosed(){window.sasoc.$cart_offers.length&&(window.saso_config.hide_shown_upsells_for=10);var o=[],e=window.sasoDocCookies.getItem("saso_shown_upsells");e&&"string"==typeof e&&e.split(",").map(function(e){o.push(parseInt(e))});var t=window.saso.action_crosssell_popup_action;-1==o.indexOf(t.id)&&("boolean"==typeof window.saso.action_crosssell_popup_action.manually_closed&&window.saso.action_crosssell_popup_action.manually_closed?o.push(t.id):"object"==typeof t.price_discount&&t.price_discount||"object"==typeof t.price_bundle&&t.price_bundle||o.push(t.id)),window.sasoDocCookies.setItem("saso_shown_upsells",o.join(","),window.saso_config.hide_shown_upsells_for,"/")}function sasoPrepareBundle(o){var e=[],t=[];o.products.map(function(o){e.push(jQuery.getJSON("/products/"+o.handle+".json",function(o){for(var e=o.product,s=0;s<e.variants.length;s++)"string"==typeof e.variants[s].compare_at_price&&(e.variants[s].compare_at_price=100*parseFloat(e.variants[s].compare_at_price)),"string"==typeof e.variants[s].price&&(e.variants[s].price=100*parseFloat(e.variants[s].price)),e.variants[s].compare_at_price_n=e.variants[s].compare_at_price,e.variants[s].price_n=e.variants[s].price,e.variants[s].compare_at_price&&e.variants[s].compare_at_price>e.variants[s].price?e.variants[s].compare_at_price=sasoShopifyformatMoney(e.variants[s].compare_at_price,window.saso.money_format):e.variants[s].compare_at_price="",e.variants[s].price=sasoShopifyformatMoney(e.variants[s].price,window.saso.money_format);if(e.variants_style="",e.variants_select="",1==e.variants.length)e.variants_style="visibility: hidden;",e.style_options="visibility: hidden;";else{var a="";e.variants.map(function(o){if(!("string"==typeof o.inventory_management&&"shopify"==o.inventory_management&&"string"==typeof o.inventory_policy&&"deny"==o.inventory_policy&&"number"==typeof o.inventory_quantity&&o.inventory_quantity<=0)){var t="";if("number"==typeof o.image_id&&null!=o.image_id){var s=e.images.filter(function(e){return e.id==o.image_id});s.length&&(t=s[0].src)}else"object"==typeof e.image&&e.image&&"string"==typeof e.image.src&&(t=e.image.src);var i=t.lastIndexOf(".");if(i>=0){t=t.substring(0,i)+"_medium."+t.substring(i+1)}a+="<option value='"+o.id+"' data-img='"+t+"' data-price='"+o.price_n+"' data-compare-at-price='"+o.compare_at_price_n+"'>",a+=sasoEscapeHtml(o.title)+"</option>"}}),e.variants_select="<select class='saso-variants'>","string"==typeof window.saso_config.upsell_variant_choose_option&&window.saso_config.upsell_variant_choose_option.length&&(e.variants_select+="<option value='0'>"+sasoEscapeHtml(window.saso_config.upsell_variant_choose_option)+"</option>"),e.variants_select+=a+"</select>"}if("object"==typeof e.image&&e.image&&"string"==typeof e.image.src){var i=e.image.src.lastIndexOf(".");if(i>=0){var n=e.image.src.substring(0,i)+"_medium."+e.image.src.substring(i+1);e.image.src=n}}e.title=sasoTrimLength(e.title,window.saso_config.product_title_max_length),t.push(e)}).fail(function(){}))}),0!=e.length&&jQuery.when.apply(jQuery,e).done(function(){if(0!=t.length){for(var e=!0,s=0;s<t.length;s++){t[s].variants.length>1&&(e=!1),t[s].quantity=1,t[s].quantityx="";var a=o.products.filter(function(o){return o.id==t[s].id});1==a.length&&a[0].quantity>1&&(t[s].quantityx=a[0].quantity+"x",t[s].quantity=a[0].quantity)}if(e)for(s=0;s<t.length;s++)t[s].variants_style="height: 0px;";"string"==typeof window.saso_config.translate_percent_off&&(o.price.title=o.price.title.replace("% Off",window.saso_config.translate_percent_off));var i=Handlebars.compile(jQuery("#saso-bundle-popup").html())({notifications_message:o.message,products:t,bundle_price_type:o.price.type,bundle_price_title:o.price.title,message_after:o.message_after});jQuery(".saso-bundle").html(i),sasoCurrency()}})}function sasoBundleAddToCart(o){o.preventDefault();var e=[],t=0;jQuery(".saso-product-container").each(function(){var o={id:jQuery(this).data("variant-id"),quantity:jQuery(this).data("quantity")},s=jQuery(this).data("product-id");t++;var a=jQuery(".saso-product-container[data-product-id='"+s+"']").find("select.saso-variants");if(1==a.length){var i=parseInt(a.val());if(0==i)return void alert(window.saso_config.upsell_variant_choose_message);o.id=i}e.push(o)}),e.length==t&&sasoAddCartItems(e,function(){setTimeout(function(){window.location.href="/cart"},100)})}function sasoShowCartDiscounts(o){if(window.saso.discounts=o,o.cart.items.forEach(function(o){if(o.discounted_price<o.original_price&&(jQuery(".saso-cart-item-discount-notes[data-key='"+o.key+"']").html(o.discount_notes.join("<br>")),jQuery(".saso-cart-item-price[data-key='"+o.key+"']").html("<span class='original_price'>"+o.original_price_format+"</span><span class='discounted_price'>"+o.discounted_price_format+"</span>"),jQuery(".saso-cart-item-line-price[data-key='"+o.key+"']").html("<span class='original_price'>"+o.original_line_price_format+"</span><span class='discounted_price'>"+o.discounted_line_price_format+"</span>")),o.upsell_notes.length>0){var e=o.upsell_notes.join("<br>");"string"==typeof window.saso_config.translate_percent_off&&(e=e.replace("% Off",window.saso_config.translate_percent_off)),jQuery(".saso-cart-item-upsell-notes[data-key='"+o.key+"']").html(e)}}),"string"==typeof o.discounted_price_html){if("boolean"==typeof o.allow_use_discount_code_cart&&o.allow_use_discount_code_cart){e='<div class="saso-use-discount-code-cart-container"><input type="text" class="saso-use-discount-code-cart-code" placeholder="Discount code"> <button type="button" class="saso-use-discount-code-cart-apply btn btn--secondary">Apply</button></div>';1==jQuery("#saso-use-discount-code-cart").length&&(e=jQuery("#saso-use-discount-code-cart").html()),o.summary_html+=e}if("boolean"==typeof o.allow_use_discount_code_instead&&o.allow_use_discount_code_instead){var e='<div><label style="font-weight: normal; cursor: pointer;"><input type="checkbox" id="saso-use-discount-code-instead-check"> I will be using a coupon instead</label></div>';1==jQuery("#saso-use-discount-instead").length&&(e=jQuery("#saso-use-discount-instead").html()),o.summary_html+=e}jQuery(".saso-summary").html(o.summary_html),window.sasoDocCookies.getItem("saso_discount_code")&&("boolean"!=typeof o.discount_code_cart_valid?(window.sasoDocCookies.removeItem("saso_discount_code"),"string"==typeof window.saso.discount_code_cart&&delete window.saso.discount_code_cart):(jQuery(".saso-use-discount-code-cart-code").val(window.sasoDocCookies.getItem("saso_discount_code")),jQuery("#saso-use-discount-code-cart-code").val(window.sasoDocCookies.getItem("saso_discount_code")))),jQuery(".saso-note").val(o.cart.summary_note),jQuery(".saso-cart-original-total").css("text-decoration","line-through"),jQuery(".saso-cart-total").html(o.discounted_price_html),sasoCurrency();var t=["input[name='checkout']:not(.bold_clone)","button[name='checkout']","[href$='checkout']","input[name='goto_pp']","button[name='goto_pp']","input[name='goto_gc']","button[name='goto_gc']",".additional-checkout-button",".google-wallet-button-holder",".amazon-payments-pay-button"];t.forEach(function(o){var e=document.querySelectorAll(o);if("object"==typeof e&&e)for(var t=0;t<e.length;t++){var s=e[t];if("function"!=typeof s.addEventListener)return;s.addEventListener("click",function(o){var e=document.getElementById("saso-use-discount-code-instead-check");if("object"==typeof e&&e&&e.checked)return!0;o.preventDefault();var t=document.querySelectorAll("input[name='checkout'].bold_clone");"object"==typeof t&&t&&t.length?jQuery.ajax({cache:!1,contentType:"application/json; charset=utf-8",dataType:"json",type:"GET",url:"/cart.js",success:function(o){window.saso.cart=o,sasoCheckout()}}):sasoCheckout()},!1),s.dataset.saso=!0,s.dataset.ocuCheckout=!0}}),(t=[".alt-payment-list-amazon-button-image"]).forEach(function(o){jQuery(o).remove()})}}function sasoCheckout(){if(!(jQuery("input[type='checkbox'].saso_agree").length>0&&jQuery("input[type='checkbox'].saso_agree:checked").length!=jQuery("input[type='checkbox'].saso_agree").length)){if("boolean"==typeof window.saso_config.force_required_fields&&window.saso_config.force_required_fields){var o=[],e=!0;if(jQuery("[name^='attributes'][required]:visible").each(function(){""!=jQuery(this).val()&&null!=jQuery(this).val()||(jQuery(this).attr("placeholder")?o.push(jQuery(this).attr("placeholder")):o.push(jQuery(this).attr("name").replace("attributes[","").replace("]","")),e=!1)}),jQuery("textarea[required]:visible").each(function(){""!=jQuery(this).val()&&null!=jQuery(this).val()||(jQuery(this).attr("placeholder")?o.push(jQuery(this).attr("placeholder")):o.push(jQuery(this).attr("name").replace("attributes[","").replace("]","")),e=!1)}),!e)return void alert("Please fill in required fields: "+o.join(", "))}var t=[];jQuery("[name^='attributes']").each(function(){var o=jQuery(this),e=jQuery(this).attr("name"),s={name:e=e.replace(/^attributes\[/i,"").replace(/\]$/i,""),value:o.val()};if(""!=s.value)switch(o[0].tagName.toLowerCase()){case"input":"checkbox"==o.attr("type")?o.is(":checked")&&t.push(s):t.push(s);break;default:t.push(s)}}),"string"==typeof window.saso.discount_code_cart&&t.push({name:"discount_code",value:window.saso.discount_code_cart}),window.sasoDocCookies.getItem("saso_link_code")&&t.push({name:"discount_link_code",value:window.sasoDocCookies.getItem("saso_link_code")}),"object"==typeof window.saso.discounts&&"object"==typeof window.saso.discounts.cart&&"string"==typeof window.saso.discounts.cart.summary_note&&t.push({name:"discount_details",value:window.saso.discounts.cart.summary_note.substring(0,500)});var s="";1==jQuery("[name='note']").length&&jQuery("[name='note']")[0].value&&(s=jQuery("[name='note']")[0].value),window.saso_config.exclude_order_discount_details&&(t=[]),window.saso.cart.note_attributes=t,window.saso.cart.note=s;for(var a=0;a<window.saso.cart.items.length;a++){var i=window.saso.cart.items[a],n=document.querySelectorAll("[id='updates_"+i.key+"']");1!=n.length&&(n=document.querySelectorAll("[id='updates_"+i.variant_id+"']")),1==n.length&&n[0].value!=window.saso.cart.items[a].quantity&&(console.log("el[0].value != window.saso.cart.items[i].quantity",n[0].value),window.saso.cart.items[a].quantity_before_saso_update=window.saso.cart.items[a].quantity,window.saso.cart.items[a].quantity=n[0].value)}var r=[];if(s.length&&r.push("note="+encodeURIComponent(s)),"string"==typeof window.gaclientId&&(r.push("clientId="+window.gaclientId),r.push("_ga="+window.gaclientId)),"object"==typeof Zapiet&&"object"==typeof Zapiet.Cart&&"function"==typeof Zapiet.Cart.getUrlParams){var c=Zapiet.Cart.getUrlParams();if("object"==typeof c&&c&&Object.keys(c).map(function(o){r.push(o+"="+encodeURIComponent(c[o]))}),"object"==typeof Zapiet.Widget&&"function"==typeof Zapiet.Widget.checkoutEnabled&&0==Zapiet.Widget.checkoutEnabled())return void alert("Please complete delivery info")}if("string"==typeof window.currentLanguageCode&&window.currentLanguageCode.length>1&&window.currentLanguageCode.length<9&&r.push("locale="+encodeURIComponent(window.currentLanguageCode)),t.length&&t.map(function(o){r.push("attributes"+encodeURIComponent("["+o.name+"]")+"="+encodeURIComponent(o.value))}),"number"==typeof window.saso_config.checkout_start){if(Date.now()-window.saso_config.checkout_start<4e3)return;var d="/checkout?discount=&clear_discount=1&discount_issue=checkout_clicked_after_3sec_delay";return r.length&&(d+="&"+r.join("&")),void(window.location.href=d.substring(0,2e3))}window.saso_config.checkout_start=Date.now(),"discount_code"==window.saso_config.offers_method?jQuery.ajax({cache:!1,contentType:"application/json; charset=utf-8",dataType:"json",type:"POST",url:"https://"+sasoGetHost()+"/api/v2/page-actions?checkout=discount_code",data:JSON.stringify(window.saso),success:function(o){o.invoice_url="/checkout","string"==typeof o.discount_code&&(r.unshift("discount="+o.discount_code),window.sasoDocCookies.setItem("saso_generated_discount_code",o.discount_code,1/0,"/")),r.length&&(o.invoice_url+="?"+r.join("&")),window.location.href=o.invoice_url.substring(0,2e3)}}):jQuery.ajax({cache:!1,contentType:"application/json; charset=utf-8",dataType:"json",type:"POST",url:"https://"+sasoGetHost()+"/api/v2/page-actions?checkout=draft",data:JSON.stringify(window.saso),success:function(o){"string"!=typeof o.invoice_url&&(o.invoice_url="/checkout");var e=document.getElementById("saso-use-discount-code-instead-check");"object"==typeof e&&e&&e.checked&&(o.invoice_url="/checkout"),r.length&&(o.invoice_url+="?"+r.join("&")),setTimeout(function(){window.location.href=o.invoice_url.substring(0,2e3)},1e3)}})}}function sasoUseDiscountCodeCartApply(){var o="";jQuery("#saso-use-discount-code-cart-code").length?o=jQuery("#saso-use-discount-code-cart-code").val():jQuery(".saso-use-discount-code-cart-code").length&&jQuery(".saso-use-discount-code-cart-code").each(function(){""!=jQuery(this).val()&&(o=jQuery(this).val())}),0==(o=o.trim()).length?window.sasoDocCookies.removeItem("saso_discount_code"):window.sasoDocCookies.setItem("saso_discount_code",o,"/"),window.location.reload()}function sasoUseDiscountCodeInsteadChange(){var o=document.getElementById("saso-use-discount-code-instead-check");if("object"==typeof o&&o){var e=1;if(o.checked?(e=0,jQuery(".saso-cart-total").hide(),jQuery(".saso-cart-original-total").css("text-decoration","none"),jQuery(".saso-summary-line-buyxgety").css("display","none"),window.sasoDocCookies.setItem("saso_use_discount_code_instead",!0,1/0,"/")):(jQuery(".saso-cart-total").show(),jQuery(".saso-cart-original-total").css("text-decoration","line-through"),jQuery(".saso-summary-line-buyxgety").css("display","inline"),window.sasoDocCookies.removeItem("saso_use_discount_code_instead","/"),location.reload()),"object"==typeof window.saso.discounts&&"object"==typeof window.saso.discounts.cart&&"object"==typeof window.saso.discounts.cart.items)for(var t=0;t<window.saso.discounts.cart.items.length;t++){var s=window.saso.discounts.cart.items[t];if("string"==typeof s.offer_type&&"Free Gift"==s.offer_type&&!(s.discounted_price>0)){var a=document.querySelectorAll("[id='updates_"+s.key+"']");1!=a.length&&(a=document.querySelectorAll("[id='updates_"+s.variant_id+"']")),1==a.length&&(a[0].value=e)}}}}function sasoShowVolumeDiscountTiers(o){if("object"==typeof o)window.saso_extras.volume_discount_tiers=o;else if(void 0===window.saso_extras.volume_discount_tiers)return;if(void 0===o&&(o=window.saso_extras.volume_discount_tiers,"object"==typeof window.saso_extras.product.variants)){var e=window.saso_extras.product.variants.filter(function(o){return o.id==window.saso_extras.current_variant_id});1==e.length&&(window.saso.product.price=e[0].price)}for(var t="flat",s=JSON.parse(JSON.stringify(o.tiers)),a=0;a<s.length;a++){var i=s[a].price;"string"==typeof window.saso_config.translate_percent_off&&(i.title=i.title.replace("% Off",window.saso_config.translate_percent_off)),"subtract"==i.type&&(i.type="flat",i.amount=window.saso.product.price-100*i.amount,i.title='<span class="saso-price">'+sasoShopifyformatMoney(i.amount,window.saso.money_format)+"</span>");var n=JSON.parse(JSON.stringify(i));"percent"==i.type&&(t="percent",n.amount=window.saso.product.price*(100-o.tiers[a].price.amount)/100,n.title='<span class="saso-price">'+sasoShopifyformatMoney(n.amount,window.saso.money_format)+"</span>"),s[a].price_amount=i.amount,s[a].price_flat=n,s[a].price_line=JSON.parse(JSON.stringify(n)),s[a].price_line.amount=s[a].price_line.amount*s[a].quantity,s[a].price_line.title='<span class="saso-price">'+sasoShopifyformatMoney(s[a].price_line.amount,window.saso.money_format)+"</span>"}var r=Handlebars.compile(jQuery("#saso-volume-discount-tiers").html()),c={product_message:o.product_message,tiers:s};c["price_type_"+t]=t;var d=r(c);jQuery(".saso-volumes").html(d),sasoCurrency()}function sasoVolumesAddToCart(o){o.preventDefault(),jQuery("[name='quantity']").remove(),window.sasoc.$first_add_to_cart_el.after("<input type='hidden' name='quantity' value='"+jQuery(this).data("quantity")+"'>"),window.sasoc.$first_add_to_cart_el.click()}function sasoUpsellAddToCart(o){o.preventDefault();var e=jQuery(this).data("product-id"),t=jQuery(this).data("variant-id"),s=jQuery(".saso-product-container[data-product-id='"+e+"']").find("select.saso-variants");if(1==s.length){if(0==(t=parseInt(s.val())))return void alert(window.saso_config.upsell_variant_choose_message)}sasoRemovePreviousFreeGifts(function(){jQuery.ajax({type:"POST",dataType:"json",url:"/cart/add.js",data:{quantity:1,id:t},success:function(o){window.saso.upsell_added=!0,sasoShowCrossSellClosed();var t=window.saso.action_crosssell_popup_action;window.sasoc.$cart_offers&&window.sasoc.$cart_offers.length||"object"==typeof t.price_discount&&t.price_discount&&"number"==typeof t.price_discount.amount||"object"==typeof t.price_bundle&&t.price_bundle?setTimeout(function(){window.location.href="/cart"},100):(jQuery(".saso-product-container[data-product-id="+e+"]").fadeOut("slow",function(){jQuery(".saso-product-container[data-product-id="+e+"]").remove(),0==jQuery(".saso-product-container:visible").length&&window.sasoc.magnificPopup.instance.close()}),window.saso_config.crosssell_close_after_one_add&&window.sasoc.magnificPopup.instance.close())},error:function(o){"object"==typeof o&&"object"==typeof o.responseJSON&&"string"==typeof o.responseJSON.description&&alert(o.responseJSON.description),"string"==typeof o&&alert(o)}})})}function sasoRemovePreviousFreeGifts(o){if("object"!=typeof window.saso.discounts||"object"!=typeof window.saso.discounts.cart||"object"!=typeof window.saso.discounts.cart.items)return o();if("string"!=typeof window.saso.discounts.multiple_offers_free_gift||"one"!=window.saso.discounts.multiple_offers_free_gift)return o();if("boolean"==typeof window.saso.ignore_previous_free_gifts&&window.saso.ignore_previous_free_gifts)return o();var e=[];if(window.saso.discounts.cart.items.filter(function(o){return"string"==typeof o.offer_type&&"Free Gift"==o.offer_type}).map(function(o){e.push("updates["+o.variant_id+"]=0")}),0==e.length)return o();jQuery.ajax({type:"POST",dataType:"text",url:"/cart/update.js",data:e.join(","),success:function(e){return o()}})}function sasoOnAjaxComplete(o,e,t){"object"==typeof t&&"string"==typeof t.url&&"/cart/change.js"==t.url&&window.location.reload()}function sasoGetHost(){return"specialoffers.suppleapps.com"}function sasoStart(){if(window.sasoc={magnificPopup:jQuery.magnificPopup,$cart_offers:jQuery(".saso-cart-offers")},window.sasoDocCookies.getItem("saso_link_code")&&(window.saso.only_special_link_code=window.sasoDocCookies.getItem("saso_link_code")),window.sasoDocCookies.getItem("saso_discount_code")&&(window.saso.discount_code_cart=window.sasoDocCookies.getItem("saso_discount_code").toLowerCase().trim()),window.sasoDocCookies.getItem("saso_generated_discount_code")&&(window.saso.saso_generated_discount_code=window.sasoDocCookies.getItem("saso_generated_discount_code"),window.sasoDocCookies.removeItem("saso_generated_discount_code")),window.saso_magnificPopup=window.sasoc.magnificPopup,jQuery("<input>").attr({type:"hidden",name:"discount",value:""}).appendTo("form[action='/cart']"),jQuery("<input>").attr({type:"hidden",name:"clear_discount",value:"1"}).appendTo("form[action='/cart']"),setTimeout(function(){window.sasoc.$first_add_to_cart_el=null;var o=0;if(["input[name='add']:not(.saso-ignore)","button[name='add']:not(.saso-ignore)","#add-to-cart","#AddToCartText","#AddToCart","#addToCart","button[value='Add to cart']","button[value='Add to Cart']","input[value='Add to cart']","input[value='Add to Cart']","button.addtocart"].forEach(function(e){o+=jQuery(e).length,null==window.sasoc.$first_add_to_cart_el&&o&&(window.sasoc.$first_add_to_cart_el=jQuery(e).first()),window.saso_config.crosssell_popup_on_add&&jQuery(e).on("click",function(o){window.saso.action_crosssell_el={$el:jQuery(this)},window.saso.action_crosssell_el.variant_id=null;var e=window.saso.action_crosssell_el.$el.parents("form:first").find("[name='id']");1==e.length&&(window.saso.action_crosssell_el.variant_id=jQuery(e[0]).val()),sasoShowCrossSell({variant_id:window.saso.action_crosssell_el.variant_id})})}),"collection"==window.saso.page_type||window.saso.page_type,0==jQuery(".saso-summary").length&&jQuery(".saso-cart-total").length>0&&jQuery('<div class="saso-summary"></div>').insertBefore(".saso-cart-total"),"product"==window.saso.page_type&&(0==jQuery(".saso-volumes").length||0==jQuery(".saso-bundle").length)){var e=null;null!=window.sasoc.$first_add_to_cart_el&&(e=window.sasoc.$first_add_to_cart_el).parent().is("div")&&(e=e.parent()),e&&0==jQuery(".saso-volumes").length&&e.after('<div class="saso-volumes"></div>'),e&&0==jQuery(".saso-bundle").length&&e.after('<div class="saso-bundle"></div>')}jQuery("body").on("click",".saso-volume-discount-tiers .saso-add-to-cart",sasoVolumesAddToCart),jQuery("body").on("click",".saso-cross-sell-popup .saso-add-to-cart:not(.saso-bundle-add-to-cart)",sasoUpsellAddToCart),jQuery("body").on("click",".saso-bundle-add-to-cart",sasoBundleAddToCart),jQuery("body").on("click",".saso-volume-discount-tiers .add-to-cart",sasoVolumesAddToCart),jQuery("body").on("click",".saso-cross-sell-popup .add-to-cart",sasoUpsellAddToCart),jQuery("body").on("click","#saso-use-discount-code-cart-apply",sasoUseDiscountCodeCartApply),jQuery("body").on("click",".saso-use-discount-code-cart-apply",sasoUseDiscountCodeCartApply),jQuery("body").on("change","#saso-use-discount-code-instead-check",sasoUseDiscountCodeInsteadChange),jQuery("body").on("click",".saso-crosssell-nav",function(){var o=jQuery(this).data("product-id");jQuery.ajax({type:"POST",dataType:"json",url:"https://"+sasoGetHost()+"/api/v1/cross-sell-add",data:{shop_slug:window.saso.shop_slug,product_id:o,cart_token:window.saso.cart.token},success:function(o){}})}),jQuery("body").on("change",".saso-variants",function(o){var e=jQuery(this).find(":selected").data("img");"string"==typeof e&&e.length&&jQuery(o.target).closest(".saso-product-container").find("img").attr("src",e);var t=sasoShopifyformatMoney(jQuery(this).find(":selected").data("price"),window.saso.money_format),s=sasoShopifyformatMoney(jQuery(this).find(":selected").data("compare-at-price"),window.saso.money_format);jQuery(o.target).closest(".saso-product-container").find(".saso-price").html(t),jQuery(o.target).closest(".saso-product-container").find(".saso-was-price").html(s),sasoCurrency()}),"cart"==window.saso.page_type&&(jQuery(document).ajaxComplete(sasoOnAjaxComplete),jQuery("body").on("change",'input[name="updates[]"]:not(.saso-ignore)',function(o){jQuery('[name="update"]').click()}),setTimeout(function(){"function"==typeof window.QtySelector&&(window.QtySelector.prototype.updateCartItemCallback=function(o){location.reload()})},2e3)),jQuery("body").on("click",".saso-cross-sell-popup .close",function(o){o.preventDefault(),window.sasoc.magnificPopup.instance.close()}),jQuery("body").on("click",".saso-cross-sell-popup .saso-close",function(o){o.preventDefault(),"object"==typeof window.saso.action_crosssell_popup_action&&(window.saso.action_crosssell_popup_action.manually_closed=!0),window.sasoc.magnificPopup.instance.close()})},1),"product"==window.saso.page_type&&("object"==typeof window.saso_extras.product.variants&&(window.saso_extras.current_variant_id=window.saso_extras.product.variants[0].id),""!=sasoGetParameterByName("variant")&&(window.saso_extras.current_variant_id=parseFloat(sasoGetParameterByName("variant"))),"number"==typeof window.saso_extras.current_variant_id&&"object"==typeof window.saso_extras.product.variants)){var o=window.saso_extras.product.variants.filter(function(o){return o.id==window.saso_extras.current_variant_id});1==o.length&&(window.saso.product.price=o[0].price)}var e=[],t=window.sasoDocCookies.getItem("saso_shown_upsells");if(t&&"string"==typeof t&&(e=t.split(",")),window.saso.saso_shown_upsells=e,"cart"==window.saso.page_type&&window.sasoDocCookies.getItem("saso_use_discount_code_instead")){var s='<div><label style="font-weight: normal; cursor: pointer;"><input type="checkbox" id="saso-use-discount-code-instead-check"> I will be using a coupon instead</label></div>';return 1==jQuery("#saso-use-discount-instead").length&&(s=jQuery("#saso-use-discount-instead").html()),jQuery(".saso-cart-total").html(s),void(document.getElementById("saso-use-discount-code-instead-check")&&(document.getElementById("saso-use-discount-code-instead-check").checked=!0))}jQuery.ajax({cache:!1,contentType:"application/json; charset=utf-8",dataType:"json",type:"POST",url:"https://"+sasoGetHost()+"/api/v2/page-actions",data:JSON.stringify(window.saso),success:function(o){setTimeout(function(){sasoDoActions(o)},1)}}),setTimeout(function(){jQuery("button[onclick=\"window.location='/checkout'\"]").length&&console.log("WARNING: buttons with onclick=\"window.location='/checkout'\" will skip Ultimate Special Offers. Replace with /cart instead.")},1e3)}sasoStart(),setTimeout(function(){"function"==typeof ga&&ga(function(o){window.gaclientId=o.get("clientId")})},1e3),"object"==typeof window.history&&function(o){var e=o.replaceState;o.replaceState=function(t){var s=arguments;return setTimeout(function(){"function"==typeof sasoCheckout&&"string"==typeof window.saso.page_type&&"product"==window.saso.page_type&&window.location.href.indexOf("variant=")>-1&&(window.saso_extras.current_variant_id=parseFloat(window.location.href.match(/variant=([0-9]+)/)[1]),sasoShowVolumeDiscountTiers())},300),e.apply(o,s)}}(window.history);